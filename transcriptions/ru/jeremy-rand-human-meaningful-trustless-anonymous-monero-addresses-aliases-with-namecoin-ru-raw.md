# Джереми Рэнд

_**Присвоение понятных человеку имён адресам Monero с помощью не требующего доверия приватного подхода Namecoin**_

_Адреса Monero длинны и громоздки, а с появлением Jamtis станут ещё длиннее. Namecoin - это подобная DNS система присвоения имён, ставшая первым проектом, реализованным в качестве форка Bitcoin, опередив Monero на 3 года. Эта презентация посвящена использованию Namecoin в качестве уровня присвоения адресам Monero понятых человеку имён, последним достижениям в области обеспечения анонимности, позволяющим применять Namecoin в этом контексте, связи проекта с OpenAlias и подходом MoneroDNS, а также возможности создания сайдчейна Monero для достижения обозначенной выше цели._

[https://youtu.be/qQ4ptuh_w84](https://youtu.be/qQ4ptuh_w84)

---

_**Джереми:**_ Итак, меня зовут Джереми, и я представляю проект Namecoin. Я расскажу о своей работе по использованию Namecoin для создания понятных человеку имён адресов Monero. Если кому-то интересно, это мой PGP-ключ. Вы можете по-быстрому достать свой телефон и сфотографировать его на случай, если позже захотите узнать обо мне побольше. У вас есть для этого ещё примерно 10 секунд. 10, 9, 8, 7, 6, 5, 4, 3, 2, 1... Отлично.

Итак, как известно, адреса Monero довольно длинны. Сегодня включают в себя 95 символов и намного длиннее адресов Bitcoin, что не очень хорошо с точки зрения удобства пользователей. Однако, кто-то может возразить, что это не такая уж и проблема. Но в скором времени они станут ещё длиннее. В одном из сегодняшних выступлений упоминался протокол Jamtis, и, по-моему, позже в рамках этой конференции будет ещё одна более подробная презентация, посвящённая Jamtis. Возможно, уже завтра. Я не помню точной программы, но это выступление стоит посмотреть. Вероятно, оно будет интересным. Как бы то ни было, с появлением Jamtis длину адресов Monero увеличится почти до 200 символов. В основном это связано с планируемым добавлением к адресам Monero третьего публичного ключа. И для этого есть веские причины. Думаю, это повысит уровень приватности лёгких кошельков. Но это также усугубит проблему, связанную с неудобством длинных адресов Monero для пользователей.

Полагаю, некоторые члены сообщества Monero признают, что данная проблема пользовательского взаимодействия имеет место быть. Но я думаю, что в сообществе также в некоторой степени отрицают или занижают проблему чрезмерно длинных адресов. Например, я лично видел, как в сабреддите Monero пишут вещи навроде: "Да никто и никогда не вводит криптовалютные адреса вручную". На самом деле некоторые именно так и делают. Лично я делаю это довольно часто. При наличии некоторых требований к безопасности, не позволяющих использовать камеру, QR-коды не подходят. При использовании кошельков c воздушным зазором копипаст тоже может не сработать. Поэтому копирование адреса вручную довольно практично с точки зрения безопасности, и было бы неплохо, если бы пользовательское взаимодействие не усложнялось при этом до невозможности. Но, как я уже сказал, эта дополнительная длина действительно важна с точки зрения очень важных функций обеспечения безопасности и приватности. Таким образом, мы имеем конфликт между двумя различными аспектами и целями разработки. Обе цели весьма правильные. И что нам в этом случае делать?

Итак, кто знаком с Namecoin? Большая часть аудитории. Отлично. Для тех, кто не знаком с Namecoin, поясню: это похожая на DNS система присвоения имён, но реализованная сайдчейн Bitcoin для совместного майнинга. То есть вы можете заниматься майнингом Bitcoin, а затем в качестве побочного продукта получить несколько Namecoin. В результате у этого сайдчейна очень высокий хэшрейт. В какой-то момент его хэшрейт был даже выше, чем у Bitcoin, что объясняется некоторыми интересными историческими причинами. Namecoin использует домен верхнего уровня .bit, примерно так же, как луковые сервисы Tor используют домен верхнего уровня .onion. Таким образом, мы стали первым проектом, возникшим в результате форка Bitcoin ещё в 2011 году. И что интересно, мы празднуем день рождения в одну дату с Monero, что довольно забавно. Namecoin был запущен 18 апреля 2011 года, а Monero появилась ровно три года спустя, что довольно символично.

Если говорить о нашем самом известном пользователе, то вы, возможно, о нём слышали. Поднимите руки, кто когда-нибудь слышал о ShadowBrokers? Хорошо, многие из вас. Для тех, кто не знаком с ShadowBrokers - они опубликовали кучу утечек из АНБ на сайте, который использовал домен Namecoin. Многие не знают, что они использовали наш домен, поскольку в СМИ, когда видели доменное имя, думали, что это что-то другое, так как не особо углублялись в детали. Потрясающе, правда?

Итак, Namecoin используется не только для присвоения доменных имён IP-адресам. Namecoin также можно использовать в качестве общей инфраструктуры открытых ключей. Допустим, на своём сайте вы хотите использовать протокол HTTPS, но при этом не доверяете государственным органам сертификации. Вы можете поместить открытый ключ TLS в блокчейн Namecoin прямо рядом со своим IP-адресом и использовать его, не обращаясь к органам сертификации. Аналогичным образом вы можете луковый сервис Tor в имя Namecoin и использовать его для получения удобного для всех имени. И, что особенно важно для нас с вами - Namecoin можно использовать для присвоения удобных имён криптовалютным адресам.

Итак, концепция использования Namecoin для присвоения имён криптовалютным адресам не имеет смысла в случае Bitcoin по причинам, связанным с приватностью. Проблема заключается в том, что Bitcoin не использует скрытых адресов ECDH. Поэтому если вы поместите адрес Bitcoin в Namecoin, то при наличии множества отправителей на этот адрес, все увидят, что деньги приходят на один и тот же адрес, что довольно плохо с точки зрения приватности. Однако, к счастью, Monero использует скрытые адреса, и это полностью снимает проблему. Так что на самом деле наши дела обстоят очень хорошо.

В качестве примера можно привести открытие кошелька Namecoin с регистрацией домена Namecoin example.bit. Ему присваивается вот это значение, а это просто объект JSON. Создаётся запись DNS TXT, содержащая адрес получателя Monero. Вы можете сами сделать это, чтобы выступить в роли получателя. А затем в качестве отправителя ваш друг в кошельке Monero введёт example.bit в качестве адресата, и вуаля, деньги окажутся на вашем адресе Monero.

Пользователи Monero, безусловно, очень пекутся об анонимности. А анонимность исторически была по-настоящему болевой точкой Namecoin. Долгое время анонимная регистрация имён Namecoin была сопряжена с рядом сложностей, что, на мой взгляд, было вполне объяснимым препятствием для любого вида взаимодействия с Monero. И это основная причина, по которой мы не особо продвигали этот вариант использования.

Но ситуация улучшается, и сейчас существует четыре основных компонента, обеспечивающих возможность анонимной регистрации имён Namecoin. Это сетевой уровень с использованием Tor, P2P с использованием полного узла, связываемость с блокчейном, анонимный выбор и приобретение монет Namecoin, анонимный обмен, если угодно. Рассмотрим каждый из компонентов подробнее.

Итак, первое требование, конечно же, запуск кошелька Namecoin через Tor. Надеюсь, это не требует пояснений. В Namecoin есть два кошелька. Есть Namecoin Core, поддерживающий полный узел, и есть Electrum-NMC - лёгкая версия кошелька. Оба поддерживают Tor. Но некоторое время существовала загвоздка, в силу которой мне пришлось внести исправления в кодовую базу Electrum, чтобы обеспечить поддержку изоляции потока. Поднимите руки, кому знакома проблема изоляции потоков в Tor? Больше, чем я ожидал, если честно. Это такая нишевая, но достаточно важная функция. Изоляция потока Tor позволяет убедиться в том, что различные действия, выполняемые с помощью Tor, проходят по отдельным цепочкам Tor, оставаясь незаметными. То есть, никто не может определить, что источником различных данных является один и тот же выходной ретранслятор Tor и, вероятно, один и тот же человек. Electrum в случае с Bitcoin не поддерживал изоляцию потоков, и мне пришлось его пропатчить. Сейчас я обновляю Electrum, а Electrum-NMC уже поддерживает эту функцию. Так что, по сути, эта проблема решена.

Следующее требование - запуск полного узла. И в данном случае проблема заключается в том, что при использовании такого лёгкого кошелька, как Electrum-NMC и какого-нибудь сервера ElectrumX, запущенного третьей стороной, третья сторона может увидеть, если вы зарегистрировали два разных имени, скажем, для двух разных адресов Monero, и они могут увидеть, что владельцем адресов является одно и то же лицо. Так что если вы используете Namecoin Core, полный узел, то всё в порядке, и вам не нужно беспокоиться об этом. Если же вы используете Electrum-NMC, следует запустить свой собственный сервер ElectrumX, связанный с вашим собственным полным узлом.

Блокчейн Namecoin достаточно мал и сводит возможные неудобства к минимуму. Он не занимает много места, и его синхронизация не требует много времени. В основном потому, что в нашем блокчейне хранятся только данные имён. Мы не храним CryptoKitties и всякие прочий сиюминутный криптовалютный скам, как это делает Ethereum или какой-то другой проект. Поэтому у нас относительно небольшой блокчейн.

При этом, если вы не используете несколько имён, или же используете, но вы не против, чтобы они были связаны друг с другом - для вас это не имеет значения. В этом случае вам необходимость в запуске полного узла отсутствует. Но мы всё равно рекомендуем делать это, просто потому что далеко не все могут правильно оценить уровень угрозы.

Ещё одна необходимая вещь - анонимный выбор монет. Поднимите руки те, кто знаком с управлением монетами в Bitcoin. Почти все, хорошо. Для тех, кто не знаком с этой функцией, она позволяет выбрать, какие входы будут использоваться в ваших транзакциях, чтобы избежать случайного связывания различных действий вместе в блокчейне. В Namecoin есть специальная автоматическая версия этой функции, которая называется "анонимный выбор монет". Её суть заключается в отслеживании имён, связанных с определённой монетой, которая использовалась для оплаты чего-либо. И функция предотвращает использование этих монет, если вы работаете с другим именем.

Несколько лет назад я реализовал эту функцию в Electrum-NMC. Моя коллега Роуз Тьюринг планирует реализовать её и в Namecoin Core, причём довольно скоро. Опять же, если вы не используете нескольких имён, или если вам всё равно, будут ваши имена связаны или нет, это не так важно. Но, опять же, мы всё равно рекомендуем задействовать эту функцию.

И четвёртое требование - анонимное приобретение Namecoin. То есть, анонимный обмен. Это был последний недостающий компонент - возможность получать Namecoin без привязки вашей платёжной информации к вашей личности через биржу, где вы их покупаете.

И у меня есть объявление! Если вы перейдёте по имени Namecoin atomic-trophy.bit, то найдёте замечательное сообщение, которое я оставил в блокчейне Namecoin чуть больше месяца назад. Если вы не можете прочитать, то здесь написано следующее: "Это первое в истории имя домена Namecoin, которое было анонимно зарегистрировано в Monero". Следом я упоминаю всех тех, кто хоть как-то поспособствовал этому событию.

Как же я это сделал, спросите вы? Я портировал Farcaster для работы с Namecoin. Поднимите руки, кто знаком с Farcaster? Многие, отлично. Итак, для тех, кто не знаком с Farcaster - этот протокол позволяет совершать атомарные сделки между Monero и Bitcoin. Я портировал его так, чтобы вместо Bitcoin он работал с Namecoin. Так что теперь вы можете взять Monero и атомарно обменять их на Namecoin, не связанные с вашей личностью. На данный момент код очень запутан. Я упоминал, что Farcaster написан на Rust, и это был мой первый опыт работы с этим языком? Так что мне нужно немного улучшить свои навыки работы с Rust. Как только я приведу код в порядок, я его опубликую. Огромное спасибо разработчикам Farcaster за создание действительно потрясающего кода. Честно говоря, я был впечатлён тем, насколько продуман опыт пользовательского взаимодействия.

И, как вы, возможно, знаете, есть такая штука, как OpenAlias. Поднимите руки, кто уже знаком с OpenAlias? Многие. Кошельки Monero уже поддерживают OpenAlias. OpenAlias, по сути, позволяет присваивать имена адресам Monero с помощью DNS. Теперь уже очевидно, что DNS сам по себе не очень подходит для этого, поскольку DNS - это просто кошмар с точки зрения обеспечения безопасности и приватности. Однако Namecoin взаимодействует с DNS. Если вы установите Namecoin локально, он запустит DNS-сервер на локальном хосте. И, если вы используете объект JSON, показанный на предыдущем слайде, он будет предоставлять именно ту информацию, которая нужна OpenAlias. Таким образом, при использовании OpenAlias в качестве уровня совместимости Namecoin будет работать с кошельками Monero без каких либо сложностей.

И ещё одно преимущество: когда вы устанавливаете Namecoin вы тем самым также обеспечиваете локальную проверку DNS стандартных DNS-доменов. Так что установка Namecoin однозначно повысит безопасность при работе с OpenAlias, даже если вы не используете Namecoin напрямую.

А теперь поднимите руки те, кто знаком с MoneroDNS? Так, почти никто из присутствующих. Но не волнуйтесь. Итак, это довольно давно предложенный сайдчейн Monero, который по своей функциональности был бы очень похож на Namecoin. MoneroDNS не кажется мне самым лучшим подходом, несмотря на то, что на первый взгляд всё выглядит хорошо. Причина заключается в том, что попытка клонировать функционал Monero в систему назначения имён сталкивается с несоответствием требований к приватности между системой назначения имён и валютой.

И главная проблема состоит в том, что Monero обладает множеством свойств приватности, которые очень затратны, но не настолько помогают в процессе назначения имён. Предполагается, что кольцевые подписи и скрытые адреса не позволят связать две транзакции друг с другом. Но если существует две разные транзакции для одного и того же имени - допустим, вы просто обновили имя, потому что регенерировали ключи Monero или сделали что-то ещё, и хотите указать новый адрес - они всё равно будут связаны, поскольку у них будет одно и то же имя. Этого не избежать. И это столь же безвредно. Так что вся эта неэффективность, которую добавляют в систему кольцевые подписи и ECDH, в итоге ничего не даёт вам в нашем контексте, но стоит многого с точки зрения эффективности. Поэтому, я думаю, приватность Namecoin в данном случае достаточно хороша, и Namecoin гораздо более масштабируем и эффективен, чем попытка использовать систему, подобную Monero, для назначения имён.

И ещё один момент: поскольку Namecoin очень похож на Bitcoin - код почти полностью идентичен, ведь мы регулярно осуществляем слияние, у нас очень похожий с Bitcoin хэшрейт - Namecoin может обладать некоторым преимуществом с точки зрения безопасности и стабильности просто потому, что Bitcoin проходит больше аудитов, чем Monero. Не поймите меня неправильно, Monero проходит по-настоящему хороший аудит, но Bitcoin, и я полагаю, это будет достаточно бесспорным утверждением, подвергается более широкому аудиту.

С другой стороны, MoneroDNS, вероятно, будет лучшим подходом, если вы захотите поэкспериментировать с более интересной криптовалютой и добавить более экзотические функции. Так что, и тут есть свои компромиссы. Но это нормально, поскольку MoneroDNS и Namecoin могут сосуществовать. Они будут использовать разные домены верхнего уровня с OpenAlias, так что конфликта пространств имён не будет, и мы сможем сотрудничать, мы сможем сосуществовать.

Поэтому я думаю, что было бы интересно изучить возможность включения резолвера Namecoin в кошельки Monero в будущем. Было бы интересно услышать, что другие думают об этом, или какие подходы лучше использовать для реализации этой идеи. Это позволит просто загружать кошелёк Monero и автоматически получать децентрализованные имена с помощью Namecoin, ничего при этом не устанавливая дополнительно. Приятным побочным преимуществом стало бы подтверждение DNSSEC при установке кошелька Monero и разрешения Namecoin для любых других приложений в вашей системе, например, веб-браузеров. Вы получали бы DNSSEC или Namecoin в своём веб-браузере, несмотря на то, что такая возможность не была заложена по умолчанию. И, возможно, это стало бы интересным и положительным побочным эффектом.

Я хотел бы выразить небольшую благодарность. Вчера у меня случились неприятности с компьютером, из-за которых я не смог бы выступить перед вами. Огромное спасибо ajs, Розе Тьюринг, Хьюго Ландау и Адаму Джозефу за то, что выручили меня.

И я с удовольствием отвечу ваши на вопросы. Я также хотел бы услышать ваше мнение о возможном сотрудничестве и подобных вещах. На мне футболка Namecoin. Меня будет легко найти. Моя контактная информация указана здесь. Здесь есть мой PGP-ключ, на случай, если вы хотите сделать снимок, здесь адреса электронной почты и так далее. Несколько моих коллег тоже присутствуют здесь. Роуз Тьюринг, Джанмани, Хьюго Ландау - все они тоже здесь. Вы можете также пообщаться и с ними. И да, я буду очень рад любым интересным отзывам, которые вы, ребята, оставите по этому поводу. Спасибо за внимание.
