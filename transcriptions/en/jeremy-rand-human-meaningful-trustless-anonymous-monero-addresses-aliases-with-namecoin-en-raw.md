# Jeremy Rand

_**Human-Meaningful, Trustless, Anonymous Monero Addresses Aliases with Namecoin**_

_Monero addresses are already long and unwieldy, and they're about to get longer with Jamtis. Namecoin is a DNS-like naming system implemented as the first project forked from Bitcoin, predating Monero by 3 years to the day. This talk will cover using Namecoin as a human-meaningful naming layer for Monero addresses, recent anonymity advances that make Namecoin's privacy more suitable for this use case, how OpenAlias fits in, and how Namecoin compares to the MoneroDNS approach of creating a Monero sidechain for this purpose._

[https://youtu.be/qQ4ptuh_w84](https://youtu.be/qQ4ptuh_w84)

---

_**Jeremy:**_ Okay, I'm Jeremy from Namecoin. I'm gonna be talking about some work I've been doing with using Namecoin for human meaningful aliases of Monero addresses. So for anyone wondering, this is my PGP key. Feel free to get out your phone really fast and take a photo in case you want to be able to verify my details later. I'll leave it there for about 10 seconds. 10, 9, 8, 7, 6, 5, 4, 3, 2, 1… Okay, great.

All right, so, as we all know, Monero addresses are quite long. They're currently 95 characters, which is quite a lot longer than Bitcoin addresses, which is already not great UX, but you could make an argument it's manageable. But they're about to get quite longer. I know there was a mention of Jamtis in an earlier talk today, and I believe there's going to be another talk about Jamtis in more detail later at MoneroKon, I think maybe tomorrow. I can't remember exactly what the schedule is, but check out that talk. It's probably going to be good. But yeah, Jamtis is going to increase the length of Monero addresses to almost 200 characters. The main contributor to this is Jamtis is going to add a third public key to Monero addresses. And, you know, there's good reason for this. It improves privacy in lightweight clients, I believe. But this makes the UX issue of these very long Monero addresses even worse.

Now, I think some people in the Monero community readily recognize that this UX issue is a thing. But I think there's also, to some extent, some denial within the community about how bad these really long addresses are. Like, I've seen people on the Monero subreddit say stuff like: "Oh, no one ever manually types cryptocurrency addresses." Well, actually some people do do that. In fact, I do that quite a lot. If you have security requirements that say you can't use a camera, well then QR codes aren't really gonna work. If you're using AirGap systems, then copying and pasting may not work very well either. And so manually copying an address actually is quite useful for security purposes, and it would be nice if the UX didn't make that impossibly difficult. But as I said, this extra length really is important for very critical security and privacy functionality. So we have a conflict here between two different design goals. These are both very valid design goals. What can we do?

So Chopin's here. Who is familiar with Namecoin? Ok, this is quite a lot of the audience. Ok, great. For anyone who is not familiar with Namecoin, it's a naming system similar to DNS, but it's implemented as a merge mine side chain of Bitcoin. So that is to say, you can mine Bitcoin and then also mine some Namecoins as a byproduct. As a result, it has a very high hash rate. In fact, the pass rate at some times has actually been even higher than that of Bitcoin due to some interesting historical reasons. Namecoin is using the .bit top-level domain, sort of similar to how Tor Onion Services use the .onion top-level domain. So we were the first project that was ever forked from Bitcoin way back in 2011. And interestingly, we actually have exactly the same birthday as Monero, which is kind of cool. Namecoin was released on April 18th, 2011, and the Monero came out exactly three years later. So that's kind of some cool symbolism.

In terms of the most high profile user that you may have heard of, show hands, who here has heard of the ShadowBrokers? Ok, that's a lot of the audience. Anyone not familiar with the ShadowBrokers, they published a bunch of NSA leaks on a website that was actually using a Namecoin domain. A lot of people don't know they were using a Namecoin domain, because the media outlets that saw the domain name thought it was something else, because media outlets were bad doing basic research. Shocking, huh?

Ok, so the thing is, Namecoin is not just for pointing domain names to IP addresses. You can also use Namecoin as a generic public key infrastructure. So for example, let's say you want to use HTTPS on your website, but you don't want to trust public certificate authorities. You can put a TLS public key into the Namecoin blockchain right next to your IP address, and you can use that to avoid trusting certificate authorities. Similarly you can put a Tor onion service into your Namecoin name and use that to get a friendly alias for your onion service. And, most importantly for this audience, you can use Namecoin to get friendly aliases for cryptocurrency addresses as well.

So this concept of using Namecoin for cryptocurrency address aliases, it doesn't really make sense for Bitcoin due to privacy reasons. The problem is Bitcoin doesn't have ECDH stealth addresses. And so if you put a Bitcoin address into a Namecoin record, then if lots of people send money to that address, well then everyone will see that you're all sending money to the same address. So this is really bad for privacy. However, conveniently, Monero does have stealth addresses and that totally sidesteps the issue. So it actually fits pretty well.

So an example of how you can do this is you can open a Namecoin wallet, and let's say you register the Namecoin domain name example.bit. And you assign this value here. This is, as you can see, just a JSON object. It creates a DNS TXT record that contains a Monero recipient address. So you can do that in order to act as a recipient. And then as the sender your friend would enter example.bit as the destination in a Monero wallet, and voila, the money winds up in your Monero address.

So Monero users care a lot about anonymity, of course. And anonymity was historically a really big pain point for Namecoin. It was really hard for quite a long time to register Namecoin names anonymously, which I think quite understandably was a deal breaker for any kind of Monero-related usage. And that's the main reason why we didn't really push this use case very much.

But things are improving. So there have been four main components of being able to register Namecoin names anonymously. So there's the network layer using Tor, there's P2P linkability using a full node, blockchain linkability, you want anonymous coin selection, and acquiring the Namecoins, you want anonymous exchange. I'm gonna go into more details on those in the next few slides.

So the first requirement is, of course, you want to run your Namecoin wallet over Tor. This is hopefully self-explanatory. Namecoin is two wallets. There's Namecoin Core, which is a full node. There's Electrum-NMC, which is a lightweight wallet. They built support Tor. But there was a catch for a while, which is that I had to patch the Electrum code base to support stream isolation. Show of hands, who here is familiar with Tor stream isolation? Ok, that's actually more people than I expected, to be honest. It's kind of a niche feature, but it's really important. Tor stream isolation makes sure that different activities you're doing with Tor go over separate Tor circuits so that people can't see: "Oh, all these different things came from the same Tor exit relay, you must all be the same person." So upstream Electrum for Bitcoin did not support stream isolation, I had to patch it to support this. I'm in the process of upstreaming that to Electrum, but in the meantime, Electrum-NMC supports this now. So that is basically solved now.

The next requirement is that you want to run a full node. And the issue here is if you're using a lightweight wallet like Electrum-NMC, and you're using some ElectrumX server that some third party is running, they can see whether you've registered two different aliases for say two different Monero addresses, and they can see that there's common ownership. So if you're using Namecoin Core, the full node, you're good, you don't have to worry about that. If you're using Electrum-NMC, you can run your own ElectrumX server that links to your own full node.

And the blockchain for Namecoin is small enough that this is actually very minimally invasive. It does not require much storage, it does not require much time to synchronize. This is mainly because we are only storing naming data in our blockchain. We're not storing, you know, CryptoKitties and all sorts of other crypto scam of the week, like Ethereum is or whatever. So we actually have relatively small blockchain.

That said, if you don't have multiple aliases, or if you do, but you're ok with them being linkable to each other, this doesn't really matter. You don't need to worry about running a full node in that particular case. But we do still recommend it simply because not everyone is able to gauge whether that is a problem for them.

Another thing that you need is anonymous coin selection. Show of hands who here is familiar with coin control in Bitcoin. Ok, this is almost everyone. For anyone who's not familiar with coin control, it lets you specifically choose which transaction inputs get used in your transactions so you can avoid accidentally linking different activities together on the blockchain. So in Namecoin, we have a special automatic version of this called "anonymous coin selection". The idea is that it keeps track of which names are linked to a given coin that was used to pay for something, and then it doesn't use those coins if you're working with a different name.

So I implemented this in Electrum-NMC a few years ago. Rose Turing, my colleague, is planning to implement this in Namecoin Core as well, fairly soon. Again, if you don't have multiple aliases, or if you don't care about your multiple aliases being linked to each other. This does not matter as much, but again, we still recommend that you do this.

And the fourth requirement is acquiring your namecoins anonymously. So you want an exchange that's anonymous. This was the last missing component, being able to obtain namecoins without your payment information being linked to yourself via whatever exchange you bought it from.

However, I have an announcement. So if you check out the Namecoin name "atomic-trophy.bit", you will see this wonderful message that I graffitied into the Namecoin blockchain just over a month ago. If you can't read the message I graffitied, it says: "This is the first ever Namecoin domain named to be atomically, anonymously registered with Monero." And then I greet a bunch of people who helped in some way.

So how did I do this, you ask? So what I did behind the scenes was I ported Farcaster to work with Namecoin. Show of hands who here is familiar with Farcaster? Ok, that's a lot of people, great. So for anyone not familiar with Farcaster, it lets you do atomic trades between Monero and Bitcoin. So I ported it to work with Namecoin instead of Bitcoin. So you can start out with some Monero, trade those for Namecoins atomically and now you have namecoins that are not linked to your own identity. The code is really messy right now. Have I mentioned that Farcaster is written in Rust, and this was my first time messing with Rust? So yeah, I need to improve my Rust skills a bit. Once I've cleaned up the code, I will publish it. Huge thank you to the Farcaster devs for making some really awesome code. I was really impressed at how good the UX was, to be honest.

So as you may know there's this thing called OpenAlias. Show of hands who has seen OpenAlias before? Ok, so it's a lot of people. Monero wallets support OpenAlias already. And OpenAlias basically lets you do aliases for Monero addresses using DNS. Now obviously, DNS by itself is not really great for this, because DNS is a security and privacy nightmare, but Namecoin is interoperable with DNS. If you install Namecoin locally, it will run a DNS server on localhost. And it will supply exactly the information that OpenAlias wants if you use the JSON object that I showed on a previous slide. So Namecoin should work with Monero wallets quite trivially using OpenAlias as a compatibility layer.

And a side benefit of this is when you install Namecoin, it also gives you local DNS validation for just standard DNS domains. So installing Namecoin will actually improve your security for doing OpenAlias, even if you're not using Namecoin directly.

So, show of hands who here is familiar with MoneroDNS? Ok, almost no one here has seen MoneroDNS. Ok, no worries. So this was a proposed merge-mined Monero sidechain, proposed quite a long time ago, that would look very similar to Namecoin in terms of functionality. MoneroDNS, I think, may not really be the best approach even though it sounds good at first glance. And the reason why is trying to clone Monero's functionality into a naming system kind of runs into a mismatch of what the privacy needs are between a naming system versus a currency.

And the main issue here is that Monero has a lot of privacy properties that are very expensive, but they don't help for naming very much. Ring signatures and stealth addresses are supposed to prevent any two transactions from ever being linked to each other. But if you have two different transactions for the same alias, like let's say you just update what the name points to, because you regenerated your Monero keys or something, you want to point it to a new address, those will be linked anyway, because they have the same alias. Like that's not something you can avoid. And it's also harmless. So all of this extra inefficiency that ring signatures and ECDH add to the system, they wind up not giving you anything for this use case, but they cost you a lot in terms of efficiency. And so I think Namecoin's privacy is probably good enough here, and Namecoin is a lot more scalable and efficient than trying to use a Monero-like system to do naming.

Another point here is that because Namecoin is very similar to Bitcoin, the code is almost exactly the same — we merge code from upstream Bitcoin routinely, we have a very similar hash rate to Bitcoin — Namecoin could arguably have a security and stability advantage simply because Bitcoin gets a lot more auditing than Monero. Don't get me wrong, Monero does get pretty good auditing, but Bitcoin, I think it would be fairly uncontroversial to say, does get more auditing.

On the other hand, MoneroDNS is probably a better approach if you want to do more cutting-edge experiments experiment with a more interesting crypto to add more exotic features. So, you know, there's trade-offs there. But you know what that's okay because MoneroDNS and Namecoin can coexist. They would use different top-level domains with OpenAlias and so there's no namespace collision and We can collaborate we can coexist.

So I think it would be interesting to look into the possibility of perhaps bundling a Namecoin resolver with Monero wallets in the future. I'm curious to hear what people might think of this or what approaches might be best for implementing this. So that way, you could just download a Monero wallet and you would automatically get decentralized aliases using Namecoin without having to install anything extra. And a nice side benefit of this would be if you install a Monero wallet, you also would wind up with getting DNSSEC validation and Namecoin resolution just for whatever other applications are on your system, like, I don't know, web browsers. You can have a DNSSEC in your web browser or Namecoin in your web browser, even though the web browser vendors don't give you that by default. So, you know, might be an interesting side benefit there.

I do wanna give a brief thank you. Yesterday I had a small computer disaster that would have disrupted my ability to give this talk. Huge thank you to ajs and Rose Turing, Hugo Landau, and Adam Joseph for bailing me out of that. So, yeah.

But yeah, so I'm happy to take questions. I would love to hear about your thoughts about possible collaboration, things like that. I'm wearing a Namecoin t-shirt. Should be easy to find me. My contact info is here. There's my PGP key again, if you want to grab a screenshot of that, email addresses, et cetera. A few of my colleagues are also here. Rose Turing, Janmani, Hugo Landau, they're here as well. So feel free to talk to them as well. And yeah, I would really love to hear whatever interesting feedback you guys have on this stuff. So thank you.
