# Brian, Adrian Truszczy≈Ñski

_**Whispers in the Ether - Harnessing Decentralisation for Anonymous Chat**_

_In an era where privacy concerns loom large and centralized platforms often fall short, the emergence of decentralized, secure chat systems offers a compelling alternative. We will explore how these technologies empower users to engage in confidential conversations without compromising their privacy. Through examples, we highlight the advantages and challenges of leveraging and adapting the decentralized Tari infrastructure to create a secure chat system._

[https://youtu.be/3Bu4pOzITCA](https://youtu.be/3Bu4pOzITCA)

---

_**Adrian:**_ Let's start with a little disclaimer. This talk is an introductionary talk, so we will make some simplifications and we will not go that far into details to make this talk more accessible for the people who are new to the crypto community.

So let's start with the introduction. So my name is Adrian and I'm a lead mobile developer on the Tari Aurora project, which is a mobile wallet for the Tari token. And with me is Brian, who is a Rust developer that is working on our main project, which is the Tari. So yeah, I think that time's already ticking. Okay, so let's start with our presentation.

So we are living in a time where the online communication is in crisis. So from the one hand, the service providers like Facebook and Google constantly want to check our message and metadata connected to it to get some data from there. From the other hand, governments and international organizations trying to pass the law to, for example, remove the encryption from the messages apps or trying to plant a backdoor into it. In such situations, they basically create the window to our lives and homes that we cannot protect from.

Of course, we have apps, mobile messaging apps that are privacy-focused. Signal and the Apple iMessages are even used the quantum computing resistant encryption. But still companies was are and will be prone to external pressure. So from we hear from time to time about the such legislations and we try to run away from the apps where the back doors or other security threats were discovered. But I think we should stop running away from that. But instead of that, we should try to find a more resistant solution. And I think that the right direction is to try to create some kind of decentralized messaging app.

So technically, to make decentralized a very simple decentralized messaging app, we need only a few things. The first, we need to get rid of the elephant in the room, which is a service. The service makes everything much easier, but in the same time, there are potential weak spots that it's prone to the data leaks or the pressure from the outside entities. So we need to definitely get rid of from our equation.

So now we have another problem because now we are unable to find other users that we want to talk with over the network, because we don't have anything, a proxy that will can lead us to that path. And finding the users over the network is quite a challenge.

You know, the internet is quite a wild place where the whole networks are hidden behind the naps. The majority of devices use the dynamic IPs, which change over time. And a lot of people have limited access to the internet due to the firewall or other restrictions. Everything will be much easier if we put everyone who wants to talk with other users on the single network layer.

Happily we have a few options here, which the most popular one is the Tor. Tor not only puts us on the one single simple network level, but also does the way how they handle the package that goes through their network. It gives us an additional layer of security.

Okay, so quick recap. How does Tor works? So if you want to talk or send any data to another person, you need to establish a circuit. That circuit needs to have three nodes between you and the receiver. Then you get the public keys from those nodes and encrypt the data three times using these keys, giving the three layers of the encryption, and pass it to the first node. The first node is able only to peel off one layer of the encryption and then pass it to the second node. The second node does the same thing, will do the second layer. Pass it to the third one. And the third one is finally able to peel off the last level in the encryption - so that basically decrypts the data - and give it to the receiver. This approach enforced that only the sender has a full set of information about the whole transaction. The first node is not the sender, but doesn't know the receiver, and it's unable to decrypt the data. The second node is like a Jon Snow. It doesn't know anything. It doesn't know the sender, nor the receiver. And it's unable to decrypt the data. The last node, it doesn't know the sender, but it knows the receiver and it's able to decrypt the data that will pass to the receiver.

Yeah, so we are now able to simplify our problem with network connectivity, but we still need to be able to find other people on the network by getting their onion address. So to do that, we need some kind of entity, some kind of beacon that guides us through the network and by using some kind of unique identifier will provide us with the address to that user. And this unique user identifier cannot be something that you can directly connect to the real person. So it cannot be a phone number, it cannot be an email, and it cannot be even your username for some extent. It needs to be something random and easily disposable. Happily, Tari network is working on using the public keys that are random and easily disposable. So we can use it to identify ourselves within our network. But as I am only the mobile developer, I'm not have a full picture about how the network is working. I bring to the Brian, who is far more better than us. So Brian, please tell us, how we can use the network to create a messaging app?

_**Brian:**_ Yeah, so Tari is an L1 blockchain solution. Completely apart from any of the other big players - we're not a side chain or anything like that. We are an independent chain. We also are developing an L2 on top of our L1. And whenever I talk about chat, the first question I generally get is: "Are you gonna be putting the messages on the blockchain?" And that is an unequivocal - no. We're not putting your messages on the blockchain at all. We actually aren't using the blockchain for anything related to chat. So now we're really gonna talk about what the blockchain does or its services. What we actually need to do is go down a level and talk about how a blockchain works on your device in the first place.

So when you download a Tari node or a wallet, the first thing it does is attempts to sync the existing blockchain, sync or download. And the way it needs to do that is, well, as we've mentioned, we're in a serverless environment, so it needs to download it from your peers - the core of distributed networking, peer-to-peer interactions.

So back to Adrian's question, how is it you find peers on the network? We at Tari use an emoji string as an identifier. So it's just one big string of emojis - it's pretty fun, but it's anonymous. So it's not, as Adrian was saying, it's not attached to your email, your telephone number, or anything like that. From there, we use a complex mechanism called a "distributed hash table" or a DHT. And again, I'm not about to explain a DHT in depth. That's a much bigger topic, but from a higher level and a bad analogy, it's kind of like an address book - if you ripped it up and gave everybody a piece of that address book, so then you can always find someone who knows someone who will eventually have the address that it is you're looking for.

Now, once we have all these connections available to us, we don't just download the chain and call it Miller time. There's actually hundreds of communications a minute that's going on under the hood. Things like syncing additional blocks, validating with the consensus mechanism to ensure the chain is valid. New peers are joining and requesting information about the chain. You're reorganizing the neighbors around you, the peers that you actually want to talk to for closer peers. So there's actually a whole lot of communication that's happening. You might just look at your wallet and see a balance, under the hood, there's a lot of messages firing back and forth constantly just to help the network thrive.

Did you know in 1984, the SMS messaging protocol was conceptualized and designed to overlay on top of the traditional voice line for telecom companies. And when they did this, their goal was to utilize the signaling channels that already existed for voice messaging because it works very well already. The one thing they needed to add was store and forward, which is exactly what it sounds like. The network can store something and then forward it on later. So if you send me a message and my cell phone is off, the network will hold that message and eventually send it to me when I come or when I turn the phone online. From there, they had everything they needed. So it was relatively simple. Simple, didn't actually come out until 1997, so it took a few years. But they had everything they needed. Which is not unlike the Tari protocol now. Like we've just discussed with all the messaging that's happening under the hood, we have all these signaling channels that are in constant communication already. And we already have something along the lines of store and forward, because any distributed network these days requires that. It's a very basic function at this point that needs to be implemented.

So the network already has everything we need for secure private messaging. All we really had to do was introduce a way for end users to put messages into these signaling channels. And that's kind of a cakewalk at this point. That's not something that's particularly difficult to do. And the benefit of that is we get everything that the protocol already has. Every message that's being sent is already private. Direct to peer or store and forward, it doesn't matter. And then on top of that, we're using the Tor network as Adrian has explained. So we've got an extra layer of security on there. And I think it kind of goes to show that the platform is really robust and that we were able to take the existing protocol with very minor amounts of change and implement something as needed as secure private messaging, being able to increase the functionality of what the protocol can offer and doing that with minimal changes, I think really kind of talks about how well the platform or how robust the platform was in the first place. And now with the secure chat we have, we get everything that the network already had - the security, all the network communications and yeah, it just works really well.

_**Adrian:**_ Okay, so now when you have a full picture, we can talk about the pros and cons of this approach.

So the first and the main benefit of this is to adapt the security anonymity and confidentially to the messaging. The security is provided by the Tor and the rest of them are provided by the Tari network itself. In addition of that, and the whole network is uneasy to shut down because the centralized networks are like a hydra. You need to cut all of the heads to kill it. So even when the few of the nodes were put down for any reason, the whole system will still remain operational. And with the time when the new nodes appear in the network, the network will become even more hard to shut down.

But okay, nothing is perfect. So of course with pros also came some cons. So let's talk quickly about it.

So the first one is related to the Tor itself. So as you know, between the receiver and the sender, we need to put three nodes in between to create the circuit. So if any nodes on that circuit will become slow for any reason, for example, it has a temporary problem with the internet connection or it's busy handling other data package, then the whole transaction will become a little bit slow, so the messages will come with delay.

The second one, it is a flaw, but for some people, it also can be a benefit. So do the serverless nature of this approach. We have no place when we can store the message key story. So if you lose your access to your device or you remove the messages manually or you just want to start over on a different device, you will be no able to restore your message key story in any way.

And the last one, it's also related to the serverless solution. So due to lack of the servers, we cannot recover your account in any quote unquote normal way. So you don't expect any button that will remind your password and the link to the recovery page would appear on your email. Instead of that, you need to do the same thing like you do when you're restoring your crypto wallet. So you need to write down all your passphrase, keep it in the safe place and use it where it's needed.

Okay, so as you see, we have all tools available. It's on the table and we fill in our reach. Now we need only people who will take them and use it. I have a strong feeling that even when the outcome of this work would not be perfect, it will definitely gather some attention, gather some users, maybe even create some community. And by getting a feedback from them, you can scale up this project, make it even better, and gather even more attention. And we, as Tari, want to help to build such kind of chat application. Maybe we're going to want to raise the trails here.

So recently, we released the framework written in Rust that allows you to send and receive the message over the Tari network. We are also in the process of implementing that library into our mobile wallets. The functionality is already available on iOS as an early beta, and it will be available on Android in the near future. You can download it from here. It's a link to the test slide. And of course, you don't need to trust me or Brian, but you can trust our code. Our code is open source and you can check it by yourself going to our GitHub project to check what is exactly inside.

So yeah, I think that that's all that I have to say today. So thank you all once for listening.
